<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="这篇文章主要总结了本人组队参加KDDCup2016的部分收货总结与感悟"><meta name="keywords" content="数据挖掘,kaggle,竞赛"><meta name="author" content="Victor Zhang,undefined"><meta name="copyright" content="Victor Zhang"><title>KDDCup2016 总结 | Cupdish.com</title><link rel="shortcut icon" href="/favicon.ico"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.min.css?version=1.5.1"><script>var GLOBAL = { 
  root: '/',
  algolia: undefined,
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  localSearch: undefined
} </script></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar"><div class="toggle-sidebar-info text-center"><span data-toggle="切换文章详情">切换站点概览</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#KDDCUP-总览与概况"><span class="toc-number">1.</span> <span class="toc-text">KDDCUP 总览与概况</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#kddcup的数据简要分析"><span class="toc-number">2.</span> <span class="toc-text">kddcup的数据简要分析</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#kddcup第一阶段的分析"><span class="toc-number">3.</span> <span class="toc-text">kddcup第一阶段的分析</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#kddcup第二阶段分析"><span class="toc-number">4.</span> <span class="toc-text">kddcup第二阶段分析</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#第三阶段分析"><span class="toc-number">5.</span> <span class="toc-text">第三阶段分析</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#方法一：线性回归"><span class="toc-number">5.1.</span> <span class="toc-text">方法一：线性回归</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#方法二：线性加权"><span class="toc-number">5.2.</span> <span class="toc-text">方法二：线性加权</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#方法三：分类"><span class="toc-number">5.3.</span> <span class="toc-text">方法三：分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#方法四：回归"><span class="toc-number">5.4.</span> <span class="toc-text">方法四：回归</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#方法五：集成学习"><span class="toc-number">5.5.</span> <span class="toc-text">方法五：集成学习</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#总结"><span class="toc-number">6.</span> <span class="toc-text">总结</span></a></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="/img/avatar.png"></div><div class="author-info__name text-center">Victor Zhang</div><div class="author-info__description text-center">欢迎</div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">文章</span><span class="pull-right">6</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">标签</span><span class="pull-right">10</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">分类</span><span class="pull-right">3</span></a></div></div></div><div id="content-outer"><div class="no-bg" id="top-container" style="background-image: url(true)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">Cupdish.com</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus"><a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a><a class="site-page" href="/about">About</a></span></div><div id="post-info"><div id="post-title">KDDCup2016 总结</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2016-05-29</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/数据挖掘/">数据挖掘</a></div></div></div><div class="layout" id="content-inner"><article id="post"><div id="post-content"><h2 id="KDDCUP-总览与概况"><a href="#KDDCUP-总览与概况" class="headerlink" title="KDDCUP 总览与概况"></a>KDDCUP 总览与概况</h2><p>今天已经提交了最后一次kddcup phrase3 的结果。目前为止，今年的kddcup也算是结束，这也是我第一次参加kddcup。在这次kddcup结果出来之前，也只有静静地等待。对于这次的kddcup有一些感想，记录下来。</p>
<p>这次的kddcup2016和以往的有所不同，也和其他kaggle竞赛也有不同。这次的比赛纯粹的是一道预测题，连主办方也没有正确答案。其他类型的题目多是主办方已经有正确答案，整个过程就是离线测试，看看谁的结果好。</p>
<p>这次的比赛是预测2016年若干个国际顶级会议上，全世界各个机构的排名。排名的结果根据该机构下发表文章的作者数与论文数据有关。假设某会议录取的论文中，每篇论文的得分为1，该得分平均分给每个作者，每个作者再将其得分平均分给其所在机构。</p>
<p>需要预测的8歌会议分别是<br><strong>SIGIR</strong>: International ACM SIGIR Conference on Research and Development in Information Retrieval<br><strong>SIGMOD</strong>: ACM SIGMOD International Conference on Management of Data<br><strong>SIGCOMM</strong>: ACM SIGCOMM Annual Conference on Data Communication<br><strong>KDD</strong>: ACM SIGKDD International Conference on Knowledge Discovery and Data Mining<br><strong>ICML</strong>: International Conference on Machine Learning<br><strong>FSE</strong>: ACM SIGSOFT International Symposium on the Foundations of Software Engineering<br><strong>MobiCom</strong>: The Annual International Conference on Mobile Computing and Networking<br><strong>MM</strong>: ACM international conference on Multimedia</p>
<p>目前数据给的是2011-2015计算机会议（包含上述8个会议）的论文，会议，作者，机构等信息，（不包含论文具体的内容及摘要，也不包含机构的地点信息）。也就是对于2016年的信息几乎寥寥无几，不过组委会鼓励大家搜集公开的其他数据。</p>
<p>这道题根据各个阶段时间截止后公布的会议中的一个会议的结果对该阶段进行排序。目前已知第一阶段是SIGIR，第二阶段是KDD。而在比赛阶段使用leaderboard进行实时评估，评估的依据是根据所有人提交的结果计算出平均结果，然后把这个平均结果跟你的结果进行比较，只比较排名。 <strong>但是</strong>，这个结果只供参考，最后的结果以真实的Ground Truth结果为准。</p>
<p>而leaderboard的结果和真实的结果差距大吗？根据第一阶段第二阶段的结果显示，两者差距相当大！第一阶段SIGIR的前几名都是在leaderboard位于一百名之后。因此，这次比赛的结果表明，<strong>即使你再排名中位于3%内，也不见得会在最终的排名中位于20%内</strong>，也就是leaderboard结果和真实的结果有巨大的偏差。不过好在<strong>在最终结果中排前几名的队伍，在leaderboard也保持很高的得分</strong>。而根据得分的计算规则，只考虑前20个机构，而且位于前几名的机构占更大的比重，通常，一些有名的机构会经常占据每年会议前几名。</p>
<h2 id="kddcup的数据简要分析"><a href="#kddcup的数据简要分析" class="headerlink" title="kddcup的数据简要分析"></a>kddcup的数据简要分析</h2><p>这次数据量还是比较大的，所有数据的压缩包是23G左右，而解压之后到60~80G。好在数据的格式非常好，易于操作，开始的时候我是用的是Spark处理的数据，后来发现Python已经能够做简单的筛选工作，而且速度还不错。</p>
<p>最容易想到的是，只提取和那8个顶级会议的数据进行操作，根据2016KDDCupSelectedAffiliations， 2016KDDCupSelectedPapers提到的机构和文章对其他的数据进行筛选，把60~80G的数据提取到了2-3M，当然这样也丢失了大量的信息。</p>
<p>根据题目的要去算出各个机构在某年某会议上的得分。</p>
<h2 id="kddcup第一阶段的分析"><a href="#kddcup第一阶段的分析" class="headerlink" title="kddcup第一阶段的分析"></a>kddcup第一阶段的分析</h2><p>参加第一阶段的时候，我们的时间就不多了，那个时候也不是全力在搞kdd这个事，主要是前期在纠结数据处理上花了很多时间，包括布局spark和hdfs，其实后来发现不用spark单机处理这些数据完全没问题。</p>
<p>根据我们算出来的机构得分，我们很快使用 2011-2015年的得分数据做已知量，线性拟合出线性的表达式，求出2016年得分。提交结果前位于100名左右，而提交结果之后位于130名左右。</p>
<h2 id="kddcup第二阶段分析"><a href="#kddcup第二阶段分析" class="headerlink" title="kddcup第二阶段分析"></a>kddcup第二阶段分析</h2><p>第二阶段开始后一直没动，主要是在等第一阶段的groundtruth。第一阶段的groudtruth出来后，结果不好，第二阶段决定换换套路，首先使用的是机器学习的方法<br>准备拿11-14年的数据，预测15年的数据。拿12-15年的数据来预测16年的数据，提取了各年排名，得分数据，使用了SVR的回归，效果不好，于是觉得抛弃。</p>
<p>后来想到，对以历史数据来说，在2015，2014年表现的好的，可能今年表现的会更好，2011，2012，2013也会对今年有影响，但是可能影响不及去年和前年，于是按照权重由小到大对于2011-2015的分数加权求和，作为2016年分数，然后归一化作为结果提交上去。根据leaderboard稍微调节一下参数。</p>
<p>结果是在leaderboard排名60左右，在最终的groundTruth达到前top5以内。</p>
<h2 id="第三阶段分析"><a href="#第三阶段分析" class="headerlink" title="第三阶段分析"></a>第三阶段分析</h2><p>第三阶段算是做的比较认真的一个阶段了，尝试了各种不同的方法</p>
<h3 id="方法一：线性回归"><a href="#方法一：线性回归" class="headerlink" title="方法一：线性回归"></a>方法一：线性回归</h3><p>提取不同的参数，不同的特征，进行线性回归，但是效果不好，$R^2$的值太小，可解释性不好，最终的结果也不好。</p>
<h3 id="方法二：线性加权"><a href="#方法二：线性加权" class="headerlink" title="方法二：线性加权"></a>方法二：线性加权</h3><p>线性加权在leaderboard的效果一直不错，我一直在怀疑这种简单的模型是不是可以产生比较好的结果，毕竟大的趋势上线性加权的效果不错。</p>
<h3 id="方法三：分类"><a href="#方法三：分类" class="headerlink" title="方法三：分类"></a>方法三：分类</h3><p>这次我把数据分的更细了，2011-2013的数据作为已知数据，2014年的得分对应为target，2012-2014为已知数据，2015年为target，这两个作为训练集。而2013-2015年作为测试集，2016年作为target。训练集分为训练数据和交叉验证数据。一般是5fold。</p>
<p>特征提取了，这些年的依次发表的文章数，得分，排名，作者数，发布多篇文章的作者数，引文数量，被英文数量，以及会议热词（整个会议中的关键词出现的次数较高的词）出现的次数等等。</p>
<p>去进前30名（或者其他）为1，没进的为0，而通常，这个数据的true positive的数据往往比较低，也就是说分类器分的不好，即使正确率很高。</p>
<p>因此，分类没继续做下去了</p>
<h3 id="方法四：回归"><a href="#方法四：回归" class="headerlink" title="方法四：回归"></a>方法四：回归</h3><p>回归也是使用分类的思路，使用了三个回归算法，SVR，GradientBoostingRegressor和LinearRegression，发现使用GBR的效果稍好。</p>
<h3 id="方法五：集成学习"><a href="#方法五：集成学习" class="headerlink" title="方法五：集成学习"></a>方法五：集成学习</h3><p>把上一个方法的三个结果合并在一起，发现效果稍微有所提高。具体的是使用voting的方法，把上面单个回归所得到的结果从小到大排序，取前50名，第一名得分1.00，第二名得分0.98分，依次类推，然后将得分相加求平均，最后的结果作为集成学习提交，的确比单个回归的效果要好。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>最终第三阶段还是使用了线性加权。<br>不足：<br>[1] 只考虑了很小一部分数据，而对于大部分数据都直接扔掉了，数据利用率较低。<br>[2] 对数据特征的挖掘还不够透彻。<br>[3] 虽然数据量较多，但是一旦以机构来作为样例，数据量还是偏少，应该从其他角度考虑。<br>[4] 只使用了简单的算法，没有考虑更复杂的算法。<br>[5] 对数据的操作还有些欠缺。<br>[6] 投入到竞赛的时间还不够。</p>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Victor Zhang</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://cupdish.com/2016/05/29/KDDCup2016-总结/">http://cupdish.com/2016/05/29/KDDCup2016-总结/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://cupdish.com" target="_blank">Cupdish.com</a>！</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/数据挖掘/">数据挖掘</a><a class="post-meta__tags" href="/tags/kaggle/">kaggle</a><a class="post-meta__tags" href="/tags/竞赛/">竞赛</a></div><nav id="pagination"><div class="prev-post pull-left"><a href="/2016/06/15/kobe/"><i class="fa fa-chevron-left">  </i><span>Kobe 投篮预测比赛解题报告</span></a></div><div class="next-post pull-right"><a href="/2016/05/26/第一篇Hexo博文/"><span>第一篇Hexo博文</span><i class="fa fa-chevron-right"></i></a></div></nav><div id="disqus_thread"></div><script>var disqus_shortname = ''
var disqus_config = function () {
  this.page.url = 'http://cupdish.com/2016/05/29/KDDCup2016-总结/';
  this.page.identifier = '2016/05/29/KDDCup2016-总结/';
  this.page.title = 'KDDCup2016 总结';
}
var d = document, s = d.createElement('script');
s.src = "https://" + disqus_shortname +".disqus.com/embed.js";
s.setAttribute('data-timestamp', '' + +new Date());
(d.head || d.body).appendChild(s);</script></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2013 - 2018 By Victor Zhang</div><div class="framework-info"><span>驱动 - </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="busuanzi"><script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file-o"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="/js/third-party/anime.min.js"></script><script src="/js/third-party/jquery.min.js"></script><script src="/js/third-party/jquery.fancybox.min.js"></script><script src="/js/third-party/velocity.min.js"></script><script src="/js/third-party/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.5.1"></script><script src="/js/fancybox.js?version=1.5.1"></script><script src="/js/sidebar.js?version=1.5.1"></script><script src="/js/copy.js?version=1.5.1"></script><script src="/js/fireworks.js?version=1.5.1"></script><script src="/js/transition.js?version=1.5.1"></script><script src="/js/scroll.js?version=1.5.1"></script><script src="/js/head.js?version=1.5.1"></script></body></html>